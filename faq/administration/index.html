
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="LeoProject makes LeoFS, which is an open source distributed object storage system and a highly available, distributed, eventually consistent storage system. LeoFS is supporting the following features:Multi-protocol Support - S3-API, REST-API and NFS v3, Large Object Support, Multi Data Center Replication and others.">
      
      
      
        <meta name="author" content="LeoProject">
      
      
        <link rel="shortcut icon" href="../../favicon.ico">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.6.1">
    
    
      
        <title>LeoFS Administration - LeoFS Documentation</title>
      
    
    
      <script src="../../assets/javascripts/modernizr-56ade86843.js"></script>
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-4d0d3f2fbf.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="../.." title="LeoFS Documentation" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  FAQ
                </span>
              
            
            LeoFS Administration
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
          
            


  


  <a href="https://github.com/leo-project/leofs" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          
        </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    LeoFS Documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/leo-project/leofs" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../whats_new/" title="What's New?" class="md-nav__link">
      What's New?
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Getting Started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Getting Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../installation/quick/" title="Quick Installation and Setup" class="md-nav__link">
      Quick Installation and Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installation/cluster/" title="Building a LeoFS' cluster with Ansible" class="md-nav__link">
      Building a LeoFS' cluster with Ansible
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Concept and Architecture
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Concept and Architecture
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../architecture/README/" title="LeoFS' Architecture" class="md-nav__link">
      LeoFS' Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../architecture/leo_gateway/" title="LeoGateway's Architecture" class="md-nav__link">
      LeoGateway's Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../architecture/leo_storage/" title="LeoStorage's Architecture" class="md-nav__link">
      LeoStorage's Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../architecture/leo_manager/" title="LeoManager's Architecture" class="md-nav__link">
      LeoManager's Architecture
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      For Administrators
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        For Administrators
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-1" type="checkbox" id="nav-5-1">
    
    <label class="md-nav__link" for="nav-5-1">
      Setup
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-1">
        Setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/setup/planning_for_production/" title="Planning for Production" class="md-nav__link">
      Planning for Production
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/setup/supported_platforms/" title="Supported Platforms" class="md-nav__link">
      Supported Platforms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/setup/hardware_requirements/" title="Hardware Requirements" class="md-nav__link">
      Hardware Requirements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/setup/network_config/" title="Network Configurations" class="md-nav__link">
      Network Configurations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2">
    
    <label class="md-nav__link" for="nav-5-2">
      Settings
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-5-2">
        Settings
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/settings/cluster/" title="Cluster Settings" class="md-nav__link">
      Cluster Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/settings/leo_manager/" title="LeoManager Settings" class="md-nav__link">
      LeoManager Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/settings/leo_storage/" title="LeoStroage Settings" class="md-nav__link">
      LeoStroage Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/settings/leo_gateway/" title="LeoGateway Settings" class="md-nav__link">
      LeoGateway Settings
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3">
    
    <label class="md-nav__link" for="nav-5-3">
      Interface
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-5-3">
        Interface
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/protocols/s3/" title="S3-API" class="md-nav__link">
      S3-API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/protocols/rest/" title="REST-API" class="md-nav__link">
      REST-API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/protocols/nfs_v3/" title="NFS v3" class="md-nav__link">
      NFS v3
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-4" type="checkbox" id="nav-5-4">
    
    <label class="md-nav__link" for="nav-5-4">
      System Operations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="5">
      <label class="md-nav__title" for="nav-5-4">
        System Operations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/system_operations/flow/" title="Operation Flow" class="md-nav__link">
      Operation Flow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/system_operations/s3/" title="S3-API related Operations" class="md-nav__link">
      S3-API related Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/system_operations/cluster/" title="Cluster Operations" class="md-nav__link">
      Cluster Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/system_operations/data/" title="Data Operations" class="md-nav__link">
      Data Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/system_operations/multi_dc_replication/" title="Multi Data Center Replication" class="md-nav__link">
      Multi Data Center Replication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/system_operations/others/" title="Others" class="md-nav__link">
      Others
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-5" type="checkbox" id="nav-5-5">
    
    <label class="md-nav__link" for="nav-5-5">
      System Administration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="6">
      <label class="md-nav__title" for="nav-5-5">
        System Administration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/system_admin/log_management/" title="Log Management" class="md-nav__link">
      Log Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/system_admin/leo_manager/" title="LeoManager's Maintenance" class="md-nav__link">
      LeoManager's Maintenance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/system_admin/monitoring/" title="System Monitoring" class="md-nav__link">
      System Monitoring
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/system_admin/migration/" title="System Migration" class="md-nav__link">
      System Migration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/system_admin/backup_and_restore/" title="Backup and Restore" class="md-nav__link">
      Backup and Restore
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/system_admin/integration/" title="System Integration" class="md-nav__link">
      System Integration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/index_of_commands/" title="Index of LeoFS' Commands" class="md-nav__link">
      Index of LeoFS' Commands
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../benchmark/README/" title="Benchmark" class="md-nav__link">
      Benchmark
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" checked>
    
    <label class="md-nav__link" for="nav-7">
      FAQ
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        FAQ
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../fundamentals/" title="LeoFS Fundamentals" class="md-nav__link">
      LeoFS Fundamentals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../limits/" title="LeoFS Limits" class="md-nav__link">
      LeoFS Limits
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        LeoFS Administration
      </label>
    
    <a href="./" title="LeoFS Administration" class="md-nav__link md-nav__link--active">
      LeoFS Administration
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#where-can-i-get-the-packages-for-leofs" title="Where can I get the packages for LeoFS?" class="md-nav__link">
    Where can I get the packages for LeoFS?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-run-my-leofs-cluster-automatically" title="How can I run my LeoFS cluster automatically?" class="md-nav__link">
    How can I run my LeoFS cluster automatically?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-multiple-users-login-into-leofs-managers-console-at-the-same-time" title="How do multiple users login into LeoFS Manager's console at the same time?" class="md-nav__link">
    How do multiple users login into LeoFS Manager's console at the same time?
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#answer-1" title="Answer 1:" class="md-nav__link">
    Answer 1:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#answer-2" title="Answer 2:" class="md-nav__link">
    Answer 2:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-result-of-the-du-command-can-be-different-with-the-actual-disk-usage" title="The result of the du command can be different with the actual disk-usage" class="md-nav__link">
    The result of the du command can be different with the actual disk-usage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#when-issueing-the-recover-node-command-the-leofs-can-get-into-high-load" title="When issueing the recover node command the LeoFS can get into high load" class="md-nav__link">
    When issueing the recover node command the LeoFS can get into high load
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-should-i-do-when-too-many-processes-errors-happen" title="What should I do when Too many processes errors happen?" class="md-nav__link">
    What should I do when Too many processes errors happen?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-i-set-a-number-of-containers-at-leofs-storage-configuration" title="How do I set "a number of containers" at LeoFS Storage configuration?" class="md-nav__link">
    How do I set "a number of containers" at LeoFS Storage configuration?
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#in-conclusiton" title="In conclusiton:" class="md-nav__link">
    In conclusiton:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#leo_storage-can-not-start-due-to-enif_send_failed-on-non-smp-vm" title="leo_storage can not start due to "enif_send_failed on non smp vm"" class="md-nav__link">
    leo_storage can not start due to "enif_send_failed on non smp vm"
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-is-the-speed-of-rebalancerecover-command-too-slow" title="Why is the speed of rebalance/recover command too slow?" class="md-nav__link">
    Why is the speed of rebalance/recover command too slow?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-does-leofss-snmp-if-give-me-wrong-values0-instead-of-correct-values" title="Why does LeoFS's SNMP I/F give me wrong values(0) instead of correct values?" class="md-nav__link">
    Why does LeoFS's SNMP I/F give me wrong values(0) instead of correct values?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#when-adding-a-new-storage-node-that-node-doesnt-appear-with-leofs-adm-status-why" title="When adding a new storage node, that node doesn't appear with leofs-adm status, Why?" class="md-nav__link">
    When adding a new storage node, that node doesn't appear with leofs-adm status, Why?
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../production_checklist/README/" title="Production Checklist" class="md-nav__link">
      Production Checklist
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#where-can-i-get-the-packages-for-leofs" title="Where can I get the packages for LeoFS?" class="md-nav__link">
    Where can I get the packages for LeoFS?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-can-i-run-my-leofs-cluster-automatically" title="How can I run my LeoFS cluster automatically?" class="md-nav__link">
    How can I run my LeoFS cluster automatically?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-multiple-users-login-into-leofs-managers-console-at-the-same-time" title="How do multiple users login into LeoFS Manager's console at the same time?" class="md-nav__link">
    How do multiple users login into LeoFS Manager's console at the same time?
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#answer-1" title="Answer 1:" class="md-nav__link">
    Answer 1:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#answer-2" title="Answer 2:" class="md-nav__link">
    Answer 2:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-result-of-the-du-command-can-be-different-with-the-actual-disk-usage" title="The result of the du command can be different with the actual disk-usage" class="md-nav__link">
    The result of the du command can be different with the actual disk-usage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#when-issueing-the-recover-node-command-the-leofs-can-get-into-high-load" title="When issueing the recover node command the LeoFS can get into high load" class="md-nav__link">
    When issueing the recover node command the LeoFS can get into high load
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-should-i-do-when-too-many-processes-errors-happen" title="What should I do when Too many processes errors happen?" class="md-nav__link">
    What should I do when Too many processes errors happen?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-i-set-a-number-of-containers-at-leofs-storage-configuration" title="How do I set "a number of containers" at LeoFS Storage configuration?" class="md-nav__link">
    How do I set "a number of containers" at LeoFS Storage configuration?
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#in-conclusiton" title="In conclusiton:" class="md-nav__link">
    In conclusiton:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#leo_storage-can-not-start-due-to-enif_send_failed-on-non-smp-vm" title="leo_storage can not start due to "enif_send_failed on non smp vm"" class="md-nav__link">
    leo_storage can not start due to "enif_send_failed on non smp vm"
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-is-the-speed-of-rebalancerecover-command-too-slow" title="Why is the speed of rebalance/recover command too slow?" class="md-nav__link">
    Why is the speed of rebalance/recover command too slow?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-does-leofss-snmp-if-give-me-wrong-values0-instead-of-correct-values" title="Why does LeoFS's SNMP I/F give me wrong values(0) instead of correct values?" class="md-nav__link">
    Why does LeoFS's SNMP I/F give me wrong values(0) instead of correct values?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#when-adding-a-new-storage-node-that-node-doesnt-appear-with-leofs-adm-status-why" title="When adding a new storage node, that node doesn't appear with leofs-adm status, Why?" class="md-nav__link">
    When adding a new storage node, that node doesn't appear with leofs-adm status, Why?
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/leo-project/leofs/edit/master/docs/faq/administration.md" title="Edit this page" class="md-icon md-content__icon">edit</a>
                
                
                <h1 id="faq-leofs-administration">FAQ: LeoFS Administration<a class="headerlink" href="#faq-leofs-administration" title="Permanent link">&para;</a></h1>
<!-- toc -->

<h2 id="where-can-i-get-the-packages-for-leofs">Where can I get the packages for LeoFS?<a class="headerlink" href="#where-can-i-get-the-packages-for-leofs" title="Permanent link">&para;</a></h2>
<p>You can get the packages by platform from <a href="http://leo-project.net/leofs/download.html" target="_blank">LeoFS website</a>, and LeoFS package for FreeBSD has been published at <a href="http://www.freshports.org/databases/leofs" target="_blank">FreeBSD Fresh Ports</a>.</p>
<h2 id="how-can-i-run-my-leofs-cluster-automatically">How can I run my LeoFS cluster automatically?<a class="headerlink" href="#how-can-i-run-my-leofs-cluster-automatically" title="Permanent link">&para;</a></h2>
<p>Currently after restarting a storage node,  you need to issue the resume command with leofs-adm script manually like this.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ leofs-adm resume storage_0@127.0.0.1
</pre></div>
</td></tr></table>

<p>We're planing to provide LeoFS's automated operations like <code class="codehilite">auto-compaction</code>, <code class="codehilite">auto-rebalance</code> and others with LeoFS v1.2, v1.4 and v2.0. Actually, <code class="codehilite">auto-compaction</code> which was already supported with v1.2.</p>
<h2 id="how-do-multiple-users-login-into-leofs-managers-console-at-the-same-time">How do multiple users login into LeoFS Manager's console at the same time?<a class="headerlink" href="#how-do-multiple-users-login-into-leofs-managers-console-at-the-same-time" title="Permanent link">&para;</a></h2>
<h3 id="answer-1">Answer 1:<a class="headerlink" href="#answer-1" title="Permanent link">&para;</a></h3>
<p>Actually, there is no login status in LeoFS, but the number of listening tcp connections is limited by <a href="https://github.com/leo-project/leofs/blob/master/apps/leo_manager/priv/leo_manager_0.conf">leo_manger.conf</a> <code class="codehilite"><span class="k">default</span><span class="o">:</span> <span class="n">console</span><span class="o">.</span><span class="na">acceptors</span><span class="o">.</span><span class="na">cui</span> <span class="o">=</span> <span class="mi">3</span></code>.
So while using default settings, 3 connections can be connected to a manager in parallel.</p>
<h3 id="answer-2">Answer 2:<a class="headerlink" href="#answer-2" title="Permanent link">&para;</a></h3>
<p>Since <code class="codehilite">LeoFS v1.1.0</code>, LeoFS have the more powerful alternative option <a href="https://github.com/leo-project/leofs/blob/master/leofs-adm">leofs-adm</a> command.</p>
<p>This command have not only same functionalities with the existing telnet way but also do NOT keep an tcp connection established for long time (connect only when issueing a command). You don't need to worry about the number of tcp connections.</p>
<h2 id="the-result-of-the-du-command-can-be-different-with-the-actual-disk-usage">The result of the du command can be different with the actual disk-usage<a class="headerlink" href="#the-result-of-the-du-command-can-be-different-with-the-actual-disk-usage" title="Permanent link">&para;</a></h2>
<p>In order to reduce system resource usage for calculating the result of the <code class="codehilite">du</code> command, LeoFS keep that information on memory and when stopping itself, LeoFS save those data into a local file. Then when restarting, LeoFS load those on memory.</p>
<p>So if LeoFS is stopped unintentionally like killing by OOM killer, those data can become inconsistent with actual usage.</p>
<p>If you get into this situation, you can recover those data by issueing the <code class="codehilite">compact-start</code> command to the node. after finishing the compaction, the result of the du command will be consitent with actual usage.</p>
<h2 id="when-issueing-the-recover-node-command-the-leofs-can-get-into-high-load">When issueing the recover node command the LeoFS can get into high load<a class="headerlink" href="#when-issueing-the-recover-node-command-the-leofs-can-get-into-high-load" title="Permanent link">&para;</a></h2>
<p>Since the <code class="codehilite">recover-node</code> command can lead to issue lots of disk I/O and consume network bandwidth, if you face to issue the recover-node to multiple nodes at once, LeoFS can get into high load and become unresponsive. So we recommend you execute the recover-node command to target nodes one by one.</p>
<p>If this solution could not work for you, you're able to control how much recover-node consume system resources by changing <a href="https://github.com/leo-project/leofs/blob/1.3.2.1/apps/leo_storage/priv/leo_storage.conf#L214-L230">the MQ-related parameters in leo_storage.conf</a>.</p>
<h2 id="what-should-i-do-when-too-many-processes-errors-happen">What should I do when Too many processes errors happen?<a class="headerlink" href="#what-should-i-do-when-too-many-processes-errors-happen" title="Permanent link">&para;</a></h2>
<p>LeoFS usually try to keep the number of Erlang processes as minimum as possible, but there are some exceptions when doing something asynchronously.</p>
<ul>
<li>Replicating an object to the non-primary assigned nodes</li>
<li>Retrying to replicate an object when the previous attempt failed</li>
</ul>
<p>Given that LeoFS suffered from very high load AND there are some nodes downed for some reason, The number of Erlang processes gradually have increased and might have reached the sysmte limit.</p>
<p>We recommend users to set an appropriate value which depends on your workload to the <a href="https://github.com/leo-project/leofs/blob/1.3.2.1/apps/leo_storage/priv/leo_storage.conf#L438">+P option</a>. Also if the <a href="https://github.com/leo-project/leofs/blob/1.3.2.1/apps/leo_storage/priv/leo_storage.conf#L438">+P option</a> does NOT work for you, there are some possibilities that some external system resources like disk, network equipments have broken, Please check out the dmesg/syslog on your sysmtem.</p>
<h2 id="how-do-i-set-a-number-of-containers-at-leofs-storage-configuration">How do I set "a number of containers" at LeoFS Storage configuration?<a class="headerlink" href="#how-do-i-set-a-number-of-containers-at-leofs-storage-configuration" title="Permanent link">&para;</a></h2>
<p>Objects/files are stored into LeoFS Storage containers which are log-structured files. LeoFS has the <code class="codehilite">data-compaction</code> mechanism in order to remove unncessary objects/files from the object-containers.</p>
<p>LeoFS's performance is affected by the data-compaction. And also, LeoFS Storage temporally creates a new file of a object-container corresponding to the compaction target container, which means during the data-compaction needs disk space for the new file of object-container(s).</p>
<p>If <code class="codehilite">write, update and delete operation</code> is a lot, we recommend that the number of containers is 32 OR 64 because it's possible to make effect of the data-compaction at a minimum as much as possible.</p>
<h3 id="in-conclusiton">In conclusiton:<a class="headerlink" href="#in-conclusiton" title="Permanent link">&para;</a></h3>
<ul>
<li>Read operation &gt; Write operation:<ul>
<li><a href="https://github.com/leo-project/leofs/blob/1.3.2.1/apps/leo_storage/priv/leo_storage.conf#L46">A total number of containers</a> = 8</li>
</ul>
</li>
<li>A lot of write, update and delete operation:<ul>
<li><a href="https://github.com/leo-project/leofs/blob/1.3.2.1/apps/leo_storage/priv/leo_storage.conf#L46">A total number of containers</a> = 32 OR 64 <em>(depends on the disk capacity and performance)</em></li>
</ul>
</li>
</ul>
<h2 id="leo_storage-can-not-start-due-to-enif_send_failed-on-non-smp-vm">leo_storage can not start due to "enif_send_failed on non smp vm"<a class="headerlink" href="#leo_storage-can-not-start-due-to-enif_send_failed-on-non-smp-vm" title="Permanent link">&para;</a></h2>
<p>When starting <code class="codehilite">leo_storage</code> on a single core machine which crashes with an erl_nif error.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1">## Error log</span>
enif_send: <span class="nv">env</span><span class="o">==</span>NULL on non-SMP VM
Aborted <span class="o">(</span>core dumped<span class="o">)</span>
</pre></div>
</td></tr></table>

<p>In this case, you have faced with <a href="https://github.com/leo-project/leofs/issues/302">LeoFS Issue#320</a>. You need to set a Erlang's VM flag, <a href="https://github.com/leo-project/leofs/blob/1.3.2.1/apps/leo_storage/priv/leo_storage.conf#L417">-smp</a> in your <code class="codehilite">leo_storage.conf</code> as follows:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1">## leo_storage.conf</span>
erlang.smp <span class="o">=</span> <span class="nb">enable</span>
</pre></div>
</td></tr></table>

<h2 id="why-is-the-speed-of-rebalancerecover-command-too-slow">Why is the speed of rebalance/recover command too slow?<a class="headerlink" href="#why-is-the-speed-of-rebalancerecover-command-too-slow" title="Permanent link">&para;</a></h2>
<p>You must hit <a href="https://github.com/leo-project/leofs/issues/359">LeoFS Issue#359</a>. Since this issue has been fixed with <code class="codehilite">LeoFS v1.2.9</code>, we'd recommend you upgrading to the v1.2.9 or higher one, and set an appropriate value for your environment to <a href="https://github.com/leo-project/leofs/blob/1.3.2.1/apps/leo_storage/priv/leo_storage.conf#L212">mq.num_of_mq_procs</a> in your leo_storage.conf.</p>
<h2 id="why-does-leofss-snmp-if-give-me-wrong-values0-instead-of-correct-values">Why does LeoFS's SNMP I/F give me wrong values(0) instead of correct values?<a class="headerlink" href="#why-does-leofss-snmp-if-give-me-wrong-values0-instead-of-correct-values" title="Permanent link">&para;</a></h2>
<p>You must hit <a href="https://github.com/leo-project/leofs/issues/361">LeoFS Issue#361</a>. Since this issue has been fixed with <code class="codehilite">LeoFS v1.2.9</code>, we'd recommend you upgrading to the v1.2.9 or higher one.</p>
<h2 id="when-adding-a-new-storage-node-that-node-doesnt-appear-with-leofs-adm-status-why">When adding a new storage node, that node doesn't appear with <code class="codehilite">leofs-adm status</code>, Why?<a class="headerlink" href="#when-adding-a-new-storage-node-that-node-doesnt-appear-with-leofs-adm-status-why" title="Permanent link">&para;</a></h2>
<p>If you changed a WRONG node name before stopping the daemon, As a result, when a new daemon was starting, it failed to detect that the previous was still running and
stop command did not work too.</p>
<p>Since you can notice this kind of mistake in <code class="codehilite">error.log</code> with <code class="codehilite">LeoFS v1.2.9</code>, we'd recommend you upgrading to the v1.2.9 or higher one.</p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../limits/" title="LeoFS Limits" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                LeoFS Limits
              </span>
            </div>
          </a>
        
        
          <a href="../../production_checklist/README/" title="Production Checklist" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Production Checklist
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            (c) 2012-2017 LeoProject. All rights reserved.
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-6b599127bc.js"></script>
      <script>app.initialize({url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>